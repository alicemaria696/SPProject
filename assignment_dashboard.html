<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ subject.s_name }} Assignments</title>
  <style>
    body { margin: 0; font-family: Arial; display: flex; background-color: #f4f6f8; }
    .sidebar {
      width: 220px; background: #002855; color: white; height: 100vh; padding-top: 1rem;
    }
    .sidebar a {
      color: white; text-decoration: none; display: block; padding: 1rem 1.5rem;
    }
    .sidebar a:hover {
      background: #004b93;
    }
    .main {
      padding: 2rem;
      flex-grow: 1;
    }
    h2 { margin-top: 0; }
    .form {
      margin-bottom: 2rem;
      background: white; padding: 1rem; border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1); max-width: 600px;
    }
    input, select, button {
      padding: 0.75rem; margin: 0.5rem 0; width: 100%;
      border-radius: 8px; border: 1px solid #ccc;
    }
    button {
      background-color: #ff6600; color: white; border: none; cursor: pointer;
    }
    button:hover { background-color: #e65c00; }
    .assignment-list {
      background: white; padding: 1rem; border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1); max-width: 700px;
    }
    .assignment {
      padding: 0.75rem 0; border-bottom: 1px solid #eee;
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <a href="/home">üè† Dashboard</a>
    <a href="#">üë®‚Äçüéì View Students</a>
    <a href="#">üìä Student Performance</a>
    <h3 style="text-align: center;">Subjects</h3>
    <a href="/subject/{{ subject.sub_id }}/assignments">{{ subject.s_name }}</a>
  </div>

  <div class="main">
    <h2>{{ subject.s_name }} ‚Äì Assignments</h2>

    <div class="form">
      <form method="POST">
        <input type="text" name="title" placeholder="Assignment Title" required>
        <input type="time" name="time" placeholder="Deadline" required>
        <input type="number" name="total_marks" placeholder="Total Marks" required>
        <select name="type" required>
          <option value="" disabled selected>Assignment Type</option>
          <option value="theory">Theory</option>
          <option value="script">Script</option>
        </select>
        <button type="submit">‚ûï Add Assignment</button>
      </form>
    </div>

    <div class="assignment-list">
      {% if assignments %}
        {% for a in assignments %}
          <div class="assignment">
            <strong>{{ a.title }}</strong><br>
            Type: {{ a.type }} | Total Marks: {{ a.total_marks }}<br>
            Assigned: {{ a.timestamp.strftime("%Y-%m-%d %H:%M") }} | Deadline: {{ a.time }}
          </div>
        {% endfor %}
      {% else %}
        <p>No assignments yet for this subject.</p>
      {% endif %}
    </div>
  </div>
</body>
</html>
