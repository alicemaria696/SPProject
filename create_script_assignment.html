<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Create Script Assignment</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
      padding: 2rem;
    }
    .form-box {
      background: white;
      padding: 2rem;
      border-radius: 10px;
      width: 600px;
      margin: auto;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    .form-group {
      margin-bottom: 1.2rem;
    }
    label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }
    input[type=text], input[type=number], input[type=datetime-local], textarea {
      width: 100%;
      padding: 0.6rem;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      padding: 0.7rem 1.5rem;
      background-color: #002855;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #004b93;
    }
    .back-btn {
      text-decoration: none;
      display: inline-block;
      margin-bottom: 1rem;
      background-color: #999;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 5px;
    }
    .back-btn:hover {
      background-color: #777;
    }
  </style>
  <script>
    function addTestCase() {
      const count = document.querySelectorAll('#testcases-area > div').length + 1;
      const div = document.createElement('div');
      div.innerHTML = `
        <label>Test Case ${count}</label>
        <textarea name="test_input_${count}" placeholder="Input ${count}" rows="2"></textarea>
        <textarea name="test_output_${count}" placeholder="Expected Output ${count}" rows="2"></textarea>
      `;
      document.getElementById('testcases-area').appendChild(div);
    }
  </script>
</head>
<body>

  <div class="form-box">
    <a href="/subject/{{ subject.sub_id }}/assignments" class="back-btn">← Back to Assignments</a>
    <h2>Create Script Assignment</h2>
    <form method="POST" action="/subject/{{ subject.sub_id }}/assignments/create_script" enctype="multipart/form-data">
      <input type="hidden" name="sub_id" value="{{ subject.sub_id }}">

      <div class="form-group">
        <label>Title</label>
        <input type="text" name="title" required>
      </div>

      <div class="form-group">
        <label>Deadline</label>
        <input type="datetime-local" name="deadline" required>
      </div>

      <div class="form-group">
        <label>Total Marks</label>
        <input type="number" name="total_marks" required>
      </div>

      <div class="form-group">
        <label>Script Questions</label>
        <textarea name="questions" rows="3" placeholder="Write your script-based problem here..."></textarea>
      </div>

      <div class="form-group">
        <label>Rubric Criteria (Select applicable):</label>
        <label><input type="checkbox" name="rubric_criteria" value="Deadline"> Deadline</label><br>
        <label><input type="checkbox" name="rubric_criteria" value="Testcase"> Testcase Matching</label><br>
        <label><input type="checkbox" name="rubric_criteria" value="Compilation Time"> Compilation Time</label>
      </div>

      <div class="form-group">
        <label>Optional Compilation Time (ms)</label>
        <input type="number" name="compilation_time" placeholder="e.g., 3000 for 3 sec">
      </div>

      <div class="form-group">
        <label>Test Cases</label>
        <div id="testcases-area">
          <div>
            <label>Test Case 1</label>
            <textarea name="test_input_1" placeholder="Input 1" rows="2"></textarea>
            <textarea name="test_output_1" placeholder="Expected Output 1" rows="2"></textarea>
          </div>
        </div>
        <button type="button" onclick="addTestCase()">➕ Add Test Case</button>
      </div>

      <div class="form-group">
        <button type="submit">Create Script Assignment</button>
      </div>
    </form>
  </div>

</body>
</html>
